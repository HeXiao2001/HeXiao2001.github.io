

<!DOCTYPE html>
<html lang="en,zh-CN,default" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">

  <link rel="apple-touch-icon" sizes="76x76" href="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
  <link rel="icon" href="/images/%E5%BE%AE%E4%BF%A1%E5%A4%B4%E5%83%8F.jpg">
  
  <meta name="google-site-verification" content="Wun74FKNKQ1jqN5QPsmjCDL1Nqt1adsBdnNQQDumO4Q" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="He Xiao">
  <meta name="keywords" content="">
  
    <meta name="description" content="An overview of the ProOE paper, a novel method for detecting spatial fuzzy communities in urban networks.">
<meta property="og:type" content="article">
<meta property="og:title" content="ProOE: A Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities">
<meta property="og:url" content="https://hexiao2001.github.io/2025/04/05/ProOE/index.html">
<meta property="og:site_name" content="HeX&#39;s Blog">
<meta property="og:description" content="An overview of the ProOE paper, a novel method for detecting spatial fuzzy communities in urban networks.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/HeXiao2001/ProOE/main/Framework.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/HeXiao2001/ProOE/main/Core4model.png">
<meta property="og:image" content="https://hexiao2001.github.io/2025/04/05/ProOE/Figure4.jpg">
<meta property="og:image" content="https://hexiao2001.github.io/2025/04/05/ProOE/Figure5.jpg">
<meta property="og:image" content="https://hexiao2001.github.io/2025/04/05/ProOE/Figure6.jpg">
<meta property="og:image" content="https://hexiao2001.github.io/2025/04/05/ProOE/Figure7.jpg">
<meta property="og:image" content="https://hexiao2001.github.io/2025/04/05/ProOE/Figure8.jpg">
<meta property="og:image" content="https://hexiao2001.github.io/2025/04/05/ProOE/Figure11.jpg">
<meta property="article:published_time" content="2025-04-05T08:00:00.000Z">
<meta property="article:modified_time" content="2025-11-17T10:31:25.814Z">
<meta property="article:author" content="He Xiao">
<meta property="article:tag" content="Spatial Analysis">
<meta property="article:tag" content="Community Detection">
<meta property="article:tag" content="Urban Computing">
<meta property="article:tag" content="Python">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://raw.githubusercontent.com/HeXiao2001/ProOE/main/Framework.jpg">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>ProOE: A Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities - HeX&#39;s Blog</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1749284_5i9bdhy70f8.css">



<link rel="stylesheet" href="//at.alicdn.com/t/c/font_1736178_k526ubmyhba.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"hexiao2001.github.io","root":"/","version":"1.9.8","typing":{"enable":true,"typeSpeed":30,"cursorChar":" ","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":{"measurement_id":null},"tencent":{"sid":null,"cid":null},"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"umami":{"src":null,"website_id":null,"domains":null,"start_time":"2024-01-01T00:00:00.000Z","token":null,"api_server":null}},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  



  
<meta name="generator" content="Hexo 7.3.0"><script src="/assets/js/DPlayer.min.js"></script></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 30vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>HeX</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>Home</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>Archives</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/" target="_self">
                <i class="iconfont icon-category-fill"></i>
                <span>Categories</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>Tags</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>About</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/images/%E9%BB%91%E6%9B%9C%E7%9F%B3.jpg') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="ProOE: A Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2025-04-05 16:00" pubdate>
          April 5, 2025 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          131 words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          2 mins
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        

      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">ProOE: A Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities</h1>
            
            
              <div class="markdown-body">
                
                <p>We are excited to introduce <strong>ProOE (Probabilistic Optimal Estimation)</strong>, a novel approach for detecting spatial fuzzy communities, as detailed in our recent publication in the <em>International Journal of Geographical Information Science</em>. This method provides a more nuanced understanding of urban structures by embracing the inherent fuzziness and heterogeneity of human movements.</p>
<p>You can find the full paper and the source code here:</p>
<ul>
<li><strong>Paper:</strong> <a target="_blank" rel="noopener" href="https://doi.org/10.1080/13658816.2025.2483850">A Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities</a></li>
<li><strong>GitHub Repository:</strong> <a target="_blank" rel="noopener" href="https://github.com/HeXiao2001/ProOE">HeXiao2001&#x2F;ProOE</a></li>
</ul>
<hr>
<h3 id="Abstract"><a href="#Abstract" class="headerlink" title="Abstract"></a><strong>Abstract</strong></h3><p>Urban areas comprise numerous spatial communities due to the frequent and limited range of human movements. Due to the partial spatial stochasticity of human movements, urban spatial communities are fuzzy and spatially heterogeneous. Existing spatial community detection strategies based on deterministic and globally uniform criteria fail to account for these characteristics. Therefore, this study presents a framework for detecting spatial fuzzy communities by transforming spatial fuzzy community detection into trip estimations between spatial units. We developed a probabilistic optimal estimation (ProOE) method to estimate trip volumes between spatial units by adjusting the probability of the membership of each unit in a spatial community. A trip intensity parameter was introduced for each community to adjust the estimated trip volumes. The distance decay effect (DDE) of human movement was then incorporated into the model, further improving the accuracy of community delineation for specific cities. Finally, spatial continuity guidance was incorporated into the solution algorithm, minimizing unnecessary community fragmentation. The experimental results demonstrate that ProOE outperforms existing methods, achieving an average improvement of 31.57% in accuracy while effectively capturing the ambiguity in the interplay between spatial units and communities. This study contributes to a more precise understanding of the spatial structures of cities.</p>
<hr>
<h3 id="A-Quick-Look-at-Existing-Methods"><a href="#A-Quick-Look-at-Existing-Methods" class="headerlink" title="A Quick Look at Existing Methods"></a><strong>A Quick Look at Existing Methods</strong></h3><p>Traditional spatial community detection methods often rely on deterministic and globally uniform criteria. However, these approaches fall short in capturing the fuzzy boundaries and spatial heterogeneity that characterize real-world urban movements.</p>
<h3 id="The-ProOE-Framework"><a href="#The-ProOE-Framework" class="headerlink" title="The ProOE Framework"></a><strong>The ProOE Framework</strong></h3><p>Our ProOE method reframes the problem by transforming community detection into a trip estimation task between spatial units. The core idea is to probabilistically estimate trip volumes by iteratively adjusting the membership probabilities of each spatial unit to every community.</p>
<p>The framework is illustrated below, showing how ProOE integrates spatial constraints and probabilistic estimation to delineate fuzzy communities.</p>
<p><img src="https://raw.githubusercontent.com/HeXiao2001/ProOE/main/Framework.jpg" srcset="/img/loading.gif" lazyload alt="Figure 1: Framework of the proposed ProOE."></p>
<p>The core idea of the model is further detailed in the following illustration, which visualizes how membership probabilities are optimized.</p>
<p><img src="https://raw.githubusercontent.com/HeXiao2001/ProOE/main/Core4model.png" srcset="/img/loading.gif" lazyload alt="Figure 2: Illustration of the core idea of the model."></p>
<hr>
<h3 id="Key-Results-Simulated-Real-World-Data"><a href="#Key-Results-Simulated-Real-World-Data" class="headerlink" title="Key Results: Simulated &amp; Real-World Data"></a><strong>Key Results: Simulated &amp; Real-World Data</strong></h3><p>To validate the effectiveness of ProOE, we conducted experiments on both simulated and real-world datasets.</p>
<h4 id="1-Performance-on-Simulated-Datasets"><a href="#1-Performance-on-Simulated-Datasets" class="headerlink" title="1. Performance on Simulated Datasets"></a><strong>1. Performance on Simulated Datasets</strong></h4><p>We first designed three distinct simulated datasets to rigorously test the model’s ability to handle key spatial characteristics: <strong>continuity</strong>, <strong>fuzziness</strong>, and <strong>heterogeneity</strong>.</p>
<p><img src="/2025/04/05/ProOE/Figure4.jpg" srcset="/img/loading.gif" lazyload alt="Figure 3. Simulation experiment for spatial heterogeneity. (a) and (b) display the simulated data: (a) predefined communities and (b) simulated trips. (c)–(h) Show the spatial community detection results from six different methods applied to this dataset: (c) ProOE, (d) MT, (e) LPA, (f) Leiden, (g) CNM and (h) ASSU."></p>
<p>The results of various community detection methods on these datasets are visualized below. It is clear that traditional methods struggle to correctly identify community structures, especially in the presence of fuzzy boundaries and varied internal densities.</p>
<p><img src="/2025/04/05/ProOE/Figure5.jpg" srcset="/img/loading.gif" lazyload alt="Figure 4. Simulation experiment for fuzziness. (a) and (b) display the simulated data: (a) predefined communities and (b) simulated trips. (c)–(h) Show the spatial community detection results from six different methods applied to this dataset: (c) ProOE, (d) MT, (e) LPA, (f) Leiden, (g) CNM and (h) ASSU."></p>
<p><img src="/2025/04/05/ProOE/Figure6.jpg" srcset="/img/loading.gif" lazyload alt="Figure 5. Simulation experiment for continuity. (a) and (b) Display the simulated data: (a) Predefined communities and (b) simulated trips, blue indicates abnormally high values. (c)–(h) Show the spatial community detection results from six different methods applied to this dataset: (c) ProOE, (d) MT, (e) LPA, (f) Leiden, (g) CNM and (h) ASSU."></p>
<p>To quantify this, we used the <strong>Fuzzy Normalized Mutual Information (FNMI)</strong> metric, which measures the similarity between the detected fuzzy communities and the ground truth. A higher FNMI value indicates better accuracy. As shown below, ProOE consistently outperforms other state-of-the-art methods across all three datasets.</p>
<p><img src="/2025/04/05/ProOE/Figure7.jpg" srcset="/img/loading.gif" lazyload alt="Figure 6. FNMI values of three simulated datasets for different methods."></p>
<hr>
<h4 id="2-Case-Study-New-York-City-Taxi-Trips"><a href="#2-Case-Study-New-York-City-Taxi-Trips" class="headerlink" title="2. Case Study: New York City Taxi Trips"></a><strong>2. Case Study: New York City Taxi Trips</strong></h4><p>We then applied ProOE to a real-world dataset of New York City taxi trips to explore urban mobility patterns. The study area focuses on Manhattan, a hub of intense and complex human movement.</p>
<p><img src="/2025/04/05/ProOE/Figure8.jpg" srcset="/img/loading.gif" lazyload alt="Figure 7: Overview of the study area and data. (a) The research area. (b) Trip data for NYC. (c) Trip data for Manhattan."></p>
<p>The final community structure detected by ProOE reveals a clear and meaningful division of Manhattan. The detected communities correspond well with known functional zones, such as Midtown, Upper East Side, and the financial district in Lower Manhattan. The fuzzy boundaries between these communities highlight the transitional zones where urban functions blend.</p>
<p><img src="/2025/04/05/ProOE/Figure11.jpg" srcset="/img/loading.gif" lazyload alt="Figure 8: The spatial fuzzy communities detected by ProOE in Manhattan. The colors represent different communities, and the opacity indicates the membership certainty of each spatial unit."></p>
<hr>
<h3 id="Demonstration-Video"><a href="#Demonstration-Video" class="headerlink" title="Demonstration Video"></a><strong>Demonstration Video</strong></h3><p>Check out this video demonstrating the evolution of spatial fuzzy communities in New York City, generated using the ProOE method.</p>
<div id="dplayer0" class="dplayer hexo-tag-dplayer-mark" style="margin-bottom: 20px;"></div><script>(function(){var player = new DPlayer({"container":document.getElementById("dplayer0"),"autoplay":true,"hotkey":true,"preload":"metadata","video":{"url":"https://private-user-images.githubusercontent.com/101781769/428838521-d5540cda-f322-4568-9295-5e842e6befdf.mp4?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJnaXRodWIuY29tIiwiYXVkIjoicmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSIsImtleSI6ImtleTUiLCJleHAiOjE3NjMzNzU2MTAsIm5iZiI6MTc2MzM3NTMxMCwicGF0aCI6Ii8xMDE3ODE3NjkvNDI4ODM4NTIxLWQ1NTQwY2RhLWYzMjItNDU2OC05Mjk1LTVlODQyZTZiZWZkZi5tcDQ_WC1BbXotQWxnb3JpdGhtPUFXUzQtSE1BQy1TSEEyNTYmWC1BbXotQ3JlZGVudGlhbD1BS0lBVkNPRFlMU0E1M1BRSzRaQSUyRjIwMjUxMTE3JTJGdXMtZWFzdC0xJTJGczMlMkZhd3M0X3JlcXVlc3QmWC1BbXotRGF0ZT0yMDI1MTExN1QxMDI4MzBaJlgtQW16LUV4cGlyZXM9MzAwJlgtQW16LVNpZ25hdHVyZT01MWRlN2U3ZThjOGZhMzhkNjI5ZjJjN2MwYTA2MjdjYWZiNTE2YTAwZTgzY2UxMDRmOWUxZjYzMWRlZmIzYmNkJlgtQW16LVNpZ25lZEhlYWRlcnM9aG9zdCJ9.1Kneso34e-RFPS5trv4TNC34xIrV8QmoQJaQwrPygwo"}});window.dplayers||(window.dplayers=[]);window.dplayers.push(player);})()</script>



<p>This work offers a powerful new lens for urban planners, geographers, and data scientists to analyze and understand the intricate spatial fabric of our cities. We welcome you to explore the code, run the demos, and contribute to this exciting area of research!</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Research/" class="category-chain-item">Research</a>
  
  
    <span>></span>
    
  <a href="/categories/Research/Technique/" class="category-chain-item">Technique</a>
  
  

  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Spatial-Analysis/" class="print-no-link">#Spatial Analysis</a>
      
        <a href="/tags/Community-Detection/" class="print-no-link">#Community Detection</a>
      
        <a href="/tags/Urban-Computing/" class="print-no-link">#Urban Computing</a>
      
        <a href="/tags/Python/" class="print-no-link">#Python</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>ProOE: A Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities</div>
      <div>https://hexiao2001.github.io/2025/04/05/ProOE/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>He Xiao</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>April 5, 2025</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-cc-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2025/11/17/HEProOE/" title="HEProOE: A Hyperedge Enhanced Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">HEProOE: A Hyperedge Enhanced Probabilistic Optimal Estimation Method for Detecting Spatial Fuzzy Communities</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2024/12/24/clash%E5%85%A8%E5%B1%80%E6%89%A9%E5%B1%95%E8%84%9A%E6%9C%AC%E9%98%B2%E6%AD%A2%E9%83%A8%E5%88%86%E7%BD%91%E7%AB%99%E4%BD%BF%E7%94%A8%E4%BB%A3%E7%90%86%E8%AE%BF%E9%97%AE/" title="clash全局扩展脚本防止部分网站使用代理访问">
                        <span class="hidden-mobile">clash全局扩展脚本防止部分网站使用代理访问</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      
    <div id="giscus" class="giscus"></div>
    <script type="text/javascript">
      Fluid.utils.loadComments('#giscus', function() {
        var options = {"repo":"hexiao2001/hexiao2001.github.io","repo-id":"R_kgDONXk1iQ","category":"Announcements","category-id":"DIC_kwDONXk1ic4CkzH5","theme-light":"light","theme-dark":"dark","mapping":"pathname","reactions-enabled":1,"emit-metadata":0,"input-position":"top","lang":"en"};
        var attributes = {};
        for (let option in options) {
          if (!option.startsWith('theme-')) {
            var key = option.startsWith('data-') ? option : 'data-' + option;
            attributes[key] = options[option];
          }
        }
        var light = 'light';
        var dark = 'dark';
        window.GiscusThemeLight = light;
        window.GiscusThemeDark = dark;
        attributes['data-theme'] = document.documentElement.getAttribute('data-user-color-scheme') === 'dark' ? dark : light;
        for (let attribute in attributes) {
          var value = attributes[attribute];
          if (value === undefined || value === null || value === '') {
            delete attributes[attribute];
          }
        }
        var s = document.createElement('script');
        s.setAttribute('src', 'https://giscus.app/client.js');
        s.setAttribute('crossorigin', 'anonymous');
        for (let attribute in attributes) {
          s.setAttribute(attribute, attributes[attribute]);
        }
        var ss = document.getElementsByTagName('script');
        var e = ss.length > 0 ? ss[ss.length - 1] : document.head || document.documentElement;
        e.parentNode.insertBefore(s, e.nextSibling);
      });
    </script>
    <noscript>Please enable JavaScript to view the comments</noscript>


    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>Table of Contents</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        Views: 
        <span id="busuanzi_value_site_pv"></span>
        
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        Visitors: 
        <span id="busuanzi_value_site_uv"></span>
        
      </span>
    
    

  

</div>

  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.4/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.20.1/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/5.0.0/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
